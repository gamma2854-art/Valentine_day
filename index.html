<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Camille üíñ</title>

<style>
*{box-sizing:border-box}

body{
  min-height:100vh;
  margin:0;
  font-family:Arial,sans-serif;
  background:
    radial-gradient(circle at top,#5f9cff,#2b4a9a 35%,#0b1026 75%),
    linear-gradient(180deg,#ff9a9e,#fad0c4);
  display:flex;
  justify-content:center;
  align-items:center;
  overflow:hidden;
}

/* overlay */
.letter-overlay{
  position:fixed; inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:9999;
}

/* enveloppe */
.envelope-wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  cursor:pointer;
  perspective:1000px;
}

.envelope{
  position:relative;
  width:340px;
  height:220px;
  transform-style:preserve-3d;
}

/* corps enveloppe */
.env-body{
  position:absolute;
  inset:0;
  background:linear-gradient(#ffd6e7,#ff9fc5);
  border-radius:12px;
  box-shadow:0 25px 50px rgba(0,0,0,.35);
  overflow:hidden;
  z-index:1;
}

/* face avant (cache papier) */
.env-front{
  position:absolute;
  left:0; right:0; bottom:0;
  height:65%;
  background:linear-gradient(#ffc2da,#ff8fbe);
  clip-path:polygon(0 100%,100% 100%,100% 0,0 0);
  z-index:3;
}

/* rabat */
.flap{
  position:absolute;
  inset:0;
  background:linear-gradient(#ffb3cf,#ff8fbe);
  clip-path:polygon(0 0,100% 0,50% 60%);
  transform-origin:top center;
  transition:transform 1s cubic-bezier(.22,1,.36,1);
  z-index:4;
  backface-visibility:hidden;
}

.envelope.open .flap{
  transform:rotateX(175deg);
}

/* bascule clic */
.envelope.tilt-left{transform:rotateY(-18deg)}
.envelope.tilt-right{transform:rotateY(18deg)}

/* papier ‚Äî VRAIMENT dedans */
.paper{
  position:absolute;
  left:50%;
  width:70%;
  height:90%;
  background:white;
  border-radius:8px;
  transform:translateX(-50%);
  bottom:-85%;
  z-index:2;
  transition:bottom 1.4s ease;
}

.envelope.open .paper{
  bottom:35%;
}

/* notif */
.notif{
  margin-top:18px;
  color:white;
  font-size:1.1rem;
  animation:pulse 2s infinite;
}

/* contenu */
#content{
  display:none;
  flex-direction:column;
  align-items:center;
  color:white;
}

img.main{
  width:260px;
  animation:float 3s ease-in-out infinite;
}

button{
  padding:1rem 2rem;
  font-size:1.2rem;
  margin:10px;
  border:none;
  border-radius:16px;
  cursor:pointer;
}

#yesBtn{background:#ff5f9e;color:white}
#noBtn{background:#4facfe;color:white}

#result{display:none;margin-top:20px}

/* canvas feu */
canvas{
  position:fixed;
  inset:0;
  pointer-events:none;
}

/* anim */
@keyframes pulse{
  50%{transform:scale(1.08)}
}
@keyframes float{
  50%{transform:translateY(-12px)}
}
</style>
</head>

<body>

<div class="letter-overlay" id="overlay">
  <div class="envelope-wrapper" onclick="openLetterStep()">
    <div class="envelope" id="envelope">
      <div class="env-body"></div>
      <div class="paper"></div>
      <div class="env-front"></div>
      <div class="flap"></div>
    </div>
    <div class="notif">Vous avez un nouveau message</div>
  </div>
</div>

<div id="content">
<img class="main" src="https://media.giphy.com/media/3oriO0OEd9QIDdllqo/giphy.gif">
<h1>Camille, veux-tu √™tre ma Valentine ? ‚ù§Ô∏è</h1>

<div id="buttons">
<button id="yesBtn" onclick="yesClick()">Oui üíï</button>
<button id="noBtn" onclick="noClick()">Non</button>
</div>

<div id="result"><h1>Ah ba quand m√™me üôÇ</h1></div>
</div>

<canvas id="fw"></canvas>

<script>
/* ouverture enveloppe */
let step=0;
function openLetterStep(){
  step++;
  envelope.classList.toggle("tilt-left",step%2);
  envelope.classList.toggle("tilt-right",!(step%2));
  if(step>=5){
    envelope.classList.add("open");
    setTimeout(()=>{
      overlay.style.display="none";
      content.style.display="flex";
    },1600);
  }
}

/* boutons */
let noTexts=["Non","Hmm‚Ä¶","Tu es s√ªre ?","Vraiment s√ªre ?","Derni√®re chance"];
let noCount=0, yesSize=1.2, noSize=1.2;

function noClick(){
  noBtn.innerText=noTexts[++noCount%noTexts.length];
  yesBtn.style.fontSize=(yesSize+=0.3)+"rem";
  noBtn.style.fontSize=Math.max(.6,(noSize-=.1))+"rem";
}

function yesClick(){
  buttons.style.display="none";
  result.style.display="block";
  fireworksRunning=true;
}

/* üéÜ FEU D‚ÄôARTIFICE CONTINU */
const canvas=document.getElementById("fw");
const ctx=canvas.getContext("2d");
function resize(){canvas.width=innerWidth;canvas.height=innerHeight}
resize(); onresize=resize;

const colors=["#ff2d55","#ff4fa3","#ff6fae","#ff1744"];
const parts=[];
let fireworksRunning=false;

function spawnBurst(){
  const x=Math.random()*canvas.width;
  const y=Math.random()*canvas.height*0.6;
  for(let i=0;i<80;i++){
    parts.push({
      x,y,
      vx:(Math.random()-0.5)*7,
      vy:(Math.random()-0.5)*7,
      life:70,
      c:colors[Math.random()*colors.length|0]
    });
  }
}

function loop(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if(fireworksRunning && Math.random()<0.08){
    spawnBurst();
  }

  for(let i=parts.length-1;i>=0;i--){
    const p=parts[i];
    p.x+=p.vx;
    p.y+=p.vy;
    p.vy+=0.06;
    p.life--;

    ctx.globalAlpha=p.life/70;
    ctx.fillStyle=p.c;
    ctx.fillRect(p.x,p.y,3,3);

    if(p.life<=0) parts.splice(i,1);
  }

  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
